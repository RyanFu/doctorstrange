{
    "version": 3,
    "sources": [
        "../../../src/home/controller/register.js"
    ],
    "names": [],
    "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;;;AAGE;;;;mBAIM,W;;;;;;;AACE,sB,GAAW,KAAK,IAAL,CAAU,UAAV,C;AACX,sB,GAAW,KAAK,IAAL,CAAU,UAAV,C;AACX,mB,GAAQ,KAAK,IAAL,CAAU,OAAV,C;AACR,mB,GAAQ,KAAK,IAAL,CAAU,OAAV,C;AACR,gB,GAAK,KAAK,IAAL,CAAU,EAAV,E;AAEL,uB,GAAY,KAAK,KAAL,CAAW,MAAX,C;;qBAEG,UAAU,OAAV,CAAkB;AACnC,0BAAU,QADyB;AAEnC,uBAAO,KAF4B;AAGnC,0BAAU,QAHyB;AAInC,uBAAO;AAJ4B,eAAlB,EAKhB,EALgB,C;;;AAAf,oB;;oBAOA,OAAO,IAAP,IAAe,O;;;;;+CACV,KAAK,IAAL,CAAU,OAAV,C;;;oBAEA,OAAO,IAAP,KAAgB,K;;;;;+CAChB,KAAK,IAAL,CAAU,eAAV,C;;;+CAGF,KAAK,OAAL,CAAa,MAAb,C;;;;;;;;;;;;;;;;;mBAGL,S;;;;;;;AACA,sB,GAAW,KAAK,IAAL,CAAU,UAAV,C;AACX,sB,GAAW,KAAK,IAAL,CAAU,UAAV,C;AACX,mB,GAAQ,KAAK,IAAL,CAAU,OAAV,C;AACR,gB,GAAK,KAAK,IAAL,CAAU,EAAV,E;AAEL,uB,GAAY,KAAK,KAAL,CAAW,YAAX,C;;qBAEG,UAAU,OAAV,CAAkB;AACnC,0BAAU,QADyB;AAEnC,uBAAO,KAF4B;AAGnC,0BAAU,QAHyB;AAInC,sBAAM;AAJ6B,eAAlB,EAKhB,EALgB,C;;;AAAf,oB;;oBAMA,OAAO,IAAP,IAAe,O;;;;;gDACV,KAAK,IAAL,CAAU,YAAV,C;;;oBAEA,OAAO,IAAP,KAAgB,K;;;;;gDAChB,KAAK,IAAL,CAAU,eAAV,C;;;gDAGF,KAAK,OAAL,CAAa,MAAb,C",
    "file": "../../../src/home/controller/register.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\n\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n  async indexAction() {\n      let username = this.post('userName');\n      let password = this.post('password');\n      let email = this.post('email');\n      let phone = this.post('phone');\n      let ip = this.http.ip();\n\n      let userModal = this.model('user');\n\n      let status = await userModal.addUser({\n        userName: username,\n        email: email,\n        password: password,\n        phone: phone,\n      }, ip);\n\n      if (status.type == 'exist') {\n        return this.fail('用户已存在');\n      }\n      else if (status.type !== 'add') {\n        return this.fail('ACCOUNT_ERROR');\n      }\n\n      return this.success(status);\n  }\n\n  async addAction () {\n    let username = this.post('username');\n    let password = this.post('password');\n    let email = this.post('email');\n    let ip = this.http.ip();\n\n    let userModal = this.model('admin/user');\n\n    let status = await userModal.addUser({\n      username: username,\n      email: email,\n      password: password,\n      type: 0\n    }, ip);\n    if (status.type == 'exist') {\n      return this.fail('USER_EXIST');\n    }\n    else if (status.type !== 'add') {\n      return this.fail('ACCOUNT_ERROR');\n    }\n\n    return this.success(status);\n  }\n}\n"
    ]
}